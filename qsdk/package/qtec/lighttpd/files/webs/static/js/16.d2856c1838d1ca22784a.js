webpackJsonp([16],{472:function(e,t,a){function s(e){a(549)}var i=a(53)(a(551),a(552),s,"data-v-529b2a50",null);e.exports=i.exports},549:function(e,t,a){var s=a(550);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a(462)("06529d10",s,!0)},550:function(e,t,a){t=e.exports=a(461)(!1),t.push([e.i,".regular-restart-setting[data-v-529b2a50]{max-width:16rem;margin:0 auto;padding-top:1.173333rem}.restart-choose[data-v-529b2a50]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;font-size:.4rem}.cycle-list[data-v-529b2a50],.restart-cycle[data-v-529b2a50],.restart-switch[data-v-529b2a50],.restart-time[data-v-529b2a50]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:1.33333rem;border-bottom:.013333rem solid hsla(0,0%,74%,.5)}.cycle-list[data-v-529b2a50]{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;height:auto;padding:.24rem 0}.checkhide[data-v-529b2a50]{display:none}.checkhide:checked+span[data-v-529b2a50]{background-color:#179cf3;border-color:#179cf3;color:#fff}.all[data-v-529b2a50],.inverse[data-v-529b2a50],.not-all[data-v-529b2a50],.weekend[data-v-529b2a50],.workingday[data-v-529b2a50]{padding:0}.first-row[data-v-529b2a50],.second-row[data-v-529b2a50]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.first-row[data-v-529b2a50],.friday[data-v-529b2a50],.monday[data-v-529b2a50],.saturday[data-v-529b2a50],.second-row[data-v-529b2a50],.sunday[data-v-529b2a50],.thursday[data-v-529b2a50],.tuesday[data-v-529b2a50],.wednesday[data-v-529b2a50]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.monday[data-v-529b2a50],.tuesday[data-v-529b2a50]{padding-bottom:.2rem}.all span[data-v-529b2a50],.cycle-list span[data-v-529b2a50],.inverse[data-v-529b2a50],.not-all span[data-v-529b2a50],.weekend span[data-v-529b2a50],.workingday span[data-v-529b2a50]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-radius:.1rem;border:.013333rem solid hsla(0,0%,74%,.5);padding:.0935rem .1668rem;font-size:.36rem}",""])},551:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,i=a(174),c=a.n(i);t.default={mounted:function(){this.pageLoading()},data:function(){return{disabled:!0,loadingInfo:!0,restartSettingChecked:!1,time:"00:00",selecttime:"00:00",monChecked:!1,tueChecked:!1,wedChecked:!1,thuChecked:!1,friChecked:!1,satChecked:!1,sunChecked:!1,resultTip:!1,result:"",resultInfo:""}},methods:(s={pageLoading:function(){var e={data:{tasktype:2},requestUrl:"get_timertask_cfg",method:"get"},t=this;this.$ajax({data:e}).then(function(e){t.disabled=!1,0==e.data.errorcode&&(t.timertask=e,t.loadingInfo=!1,1==e.data.data.enable?t.restartSettingChecked=!0:t.restartSettingChecked=!1,t.timetaskShow(e))}).catch(function(e){t.disabled=!1,console.log(e)})},openPicker:function(){this.$refs.picker.open()},timetaskShow:function(e){if(e.data.data.hour<10)var t="0"+e.data.data.hour;else var t=e.data.data.hour;if(e.data.data.minute<10)var a="0"+e.data.data.minute;else var a=e.data.data.minute;if(this.time=t+":"+a,this.checked("notAll"),e.data.data.day.length>0)for(var s=e.data.data.day.split(","),i=0;i<s.length;){var c=Number(s[i]);this.checked(c),i++}},beforeRouteLeave:function(e,t,a){this.destroyed()},back:function(){this.$router.push("home")}},c.a(s,"openPicker",function(){this.$refs.picker.open(),this.selecttime=this.time}),c.a(s,"handleConfirm",function(){this.time=this.selecttime}),c.a(s,"save",function(){if(""==this.time)return void this.resultShow(0,"请输入重启时间！");if(1==this.restartSettingChecked){for(var e=[this.sunChecked,this.monChecked,this.tueChecked,this.wedChecked,this.thuChecked,this.friChecked,this.satChecked],t=0,a=0;t<e.length;)1==e[t]?(a=a+","+t,t++):t++;if(0==a)return void this.resultShow(0,"请选择重复周期！");a=a.substr(2,a.length);var s={data:{enable:1,tasktype:2,minute:Number(this.time.split(":")[1]),hour:Number(this.time.split(":")[0]),day:a},requestUrl:"set_timertask_cfg",method:"put"}}else var s={data:{enable:0,tasktype:2,minute:"",hour:"",day:""},requestUrl:"set_timertask_cfg",method:"put"};this.resultShow(-1,-1),this.disabled=!0;var i=this;this.$ajax({data:s}).then(function(e){i.disabled=!1,0==e.data.errorcode?(i.resultShow(1,"保存成功"),i.pageLoading()):i.resultShow(0,e.data.mag)}).catch(function(e){i.disabled=!1,i.resultShow(0,e)})}),c.a(s,"restartChecked",function(){this.restartSettingChecked=!this.restartSettingChecked,this.restartSettingChecked||this.timertask(this.timertask)}),c.a(s,"checked",function(e){switch(e){case"all":this.monChecked=this.tueChecked=this.wedChecked=this.thuChecked=this.friChecked=this.satChecked=this.sunChecked=!0;break;case"notAll":this.monChecked=this.tueChecked=this.wedChecked=this.thuChecked=this.friChecked=this.satChecked=this.sunChecked=!1;break;case"inverse":this.monChecked=!this.monChecked,this.tueChecked=!this.tueChecked,this.wedChecked=!this.wedChecked,this.thuChecked=!this.thuChecked,this.friChecked=!this.friChecked,this.satChecked=!this.satChecked,this.sunChecked=!this.sunChecked;break;case"workingday":this.monChecked=this.tueChecked=this.wedChecked=this.thuChecked=this.friChecked=!0,this.satChecked=this.sunChecked=!1;break;case"weekend":this.monChecked=this.tueChecked=this.wedChecked=this.thuChecked=this.friChecked=!1,this.satChecked=this.sunChecked=!0;break;case 1:this.monChecked=!0;break;case 2:this.tueChecked=!this.tueChecked;break;case 3:this.wedChecked=!this.wedChecked;break;case 4:this.thuChecked=!this.thuChecked;break;case 5:this.friChecked=!this.friChecked;break;case 6:this.satChecked=!this.satChecked;break;case 0:this.sunChecked=!this.sunChecked;break;default:this.monChecked=this.tueChecked=this.wedChecked=this.thuChecked=this.friChecked=this.satChecked=this.sunChecked=!1}}),s)}},552:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"regular-restart-setting container"},[a("header",{staticClass:"header"},[a("span",{staticClass:"back-icon",on:{click:function(t){e.back()}}}),e._v(" "),a("span",{staticClass:"theme"},[e._v("定时重启")]),e._v(" "),a("div",{staticClass:"save"},[a("button",{attrs:{type:"button",disabled:e.disabled},on:{click:function(t){e.save()}}},[e._v("保存")])])]),e._v(" "),e.loadingInfo?a("loadingInfo",{staticClass:"loadinginfo"}):e._e(),e._v(" "),e.loadingInfo?e._e():a("div",{staticClass:"restart-choose"},[a("div",{staticClass:"restart-switch"},[a("span",[e._v("定时重启")]),e._v(" "),a("input",{staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{checked:e.restartSettingChecked}}),e._v(" "),a("span",{staticClass:"switch-icon",on:{click:function(t){e.restartChecked()}}})]),e._v(" "),e.restartSettingChecked?a("div",{staticClass:"restart-settings",on:{click:function(t){e.openPicker()}}},[a("div",{staticClass:"restart-time"},[a("span",[e._v("重启时间")]),e._v(" "),a("yd-datetime",{attrs:{type:"time"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),a("div",{staticClass:"restart-cycle"},[a("span",[e._v("重复周期")]),e._v(" "),a("div",{staticClass:"workingday"},[a("span",{on:{click:function(t){e.checked("workingday")}}},[e._v("工作日")])]),e._v(" "),a("div",{staticClass:"weekend"},[a("span",{on:{click:function(t){e.checked("weekend")}}},[e._v("周末")])]),e._v(" "),a("div",{staticClass:"all"},[a("span",{on:{click:function(t){e.checked("all")}}},[e._v("全选")])]),e._v(" "),a("div",{staticClass:"not-all"},[a("span",{on:{click:function(t){e.checked("notAll")}}},[e._v("全不选")])]),e._v(" "),a("div",{staticClass:"inverse"},[a("span",{on:{click:function(t){e.checked("inverse")}}},[e._v("反选")])])]),e._v(" "),a("div",{staticClass:"cycle-list"},[a("div",{staticClass:"first-row"},[a("div",{staticClass:"monday"},[a("input",{staticClass:"checkhide",attrs:{type:"checkbox"},domProps:{checked:e.monChecked}}),e._v(" "),a("span",{on:{click:function(t){e.checked(1)}}},[e._v("星期一")])]),e._v(" "),a("div",{staticClass:"saturday"},[a("input",{staticClass:"checkhide",attrs:{type:"checkbox"},domProps:{checked:e.satChecked}}),e._v(" "),a("span",{on:{click:function(t){e.checked(6)}}},[e._v("星期六")])])]),e._v(" "),a("div",{staticClass:"second-row"},[a("div",{staticClass:"tuesday"},[a("input",{staticClass:"checkhide",attrs:{type:"checkbox"},domProps:{checked:e.tueChecked}}),e._v(" "),a("span",{on:{click:function(t){e.checked(2)}}},[e._v("星期二")])]),e._v(" "),a("div",{staticClass:"sunday"},[a("input",{staticClass:"checkhide",attrs:{type:"checkbox"},domProps:{checked:e.sunChecked}}),e._v(" "),a("span",{on:{click:function(t){e.checked(0)}}},[e._v("星期日")])])]),e._v(" "),a("div",{staticClass:"wednesday"},[a("input",{staticClass:"checkhide",attrs:{type:"checkbox"},domProps:{checked:e.wedChecked}}),e._v(" "),a("span",{on:{click:function(t){e.checked(3)}}},[e._v("星期三")])]),e._v(" "),a("div",{staticClass:"thursday"},[a("input",{staticClass:"checkhide",attrs:{type:"checkbox"},domProps:{checked:e.thuChecked}}),e._v(" "),a("span",{on:{click:function(t){e.checked(4)}}},[e._v("星期四")])]),e._v(" "),a("div",{staticClass:"friday"},[a("input",{staticClass:"checkhide",attrs:{type:"checkbox"},domProps:{checked:e.friChecked}}),e._v(" "),a("span",{on:{click:function(t){e.checked(5)}}},[e._v("星期五")])])])]):e._e()]),e._v(" "),a("resultshow",{attrs:{resultTip:e.resultTip,result:e.result,resultInfo:e.resultInfo}})],1)},staticRenderFns:[]}}});