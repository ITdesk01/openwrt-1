webpackJsonp([10],{473:function(t,e,i){function a(t){i(552)}var o=i(53)(i(554),i(555),a,"data-v-098c91e9",null);t.exports=o.exports},493:function(t,e){t.exports="data:image/gif;base64,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"},552:function(t,e,i){var a=i(553);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(462)("2d3656e2",a,!0)},553:function(t,e,i){e=t.exports=i(461)(!1),e.push([t.i,".firmware-update-container[data-v-098c91e9]{max-width:16rem;margin:0 auto;padding-top:1.173333rem}.update[data-v-098c91e9]{padding-top:1.2rem}.update-main[data-v-098c91e9]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;text-align:center;padding:.2rem 0;font-size:.4rem}.config-check[data-v-098c91e9],.save-choose[data-v-098c91e9],.update-info[data-v-098c91e9],.update-main>span[data-v-098c91e9]{padding-top:.3rem}.get-update[data-v-098c91e9]{position:fixed;bottom:4rem;left:0;right:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:3.3rem}.get-update button[data-v-098c91e9]{position:relative;width:8.6667rem;height:1.17333rem;border-radius:.08rem;margin:0 0 .45rem}button .disabled[data-v-098c91e9]{position:absolute;top:50%;left:50%;width:.426667rem;height:.426667rem;margin-top:-.2133333rem;margin-left:-.2133333rem;background-image:url("+i(493)+");background-repeat:no-repeat;background-position:50%;background-size:.426667rem .426667rem;color:#fff}.getting-update[data-v-098c91e9]{padding-top:.3rem}.save-choose[data-v-098c91e9]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.save-choose input[data-v-098c91e9]{margin-right:.05rem;width:auto;display:inline;vertical-align:bottom}.config-check[data-v-098c91e9],.update-box[data-v-098c91e9]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.update-box[data-v-098c91e9]{width:80%;font-size:.4rem;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:#fff;border-radius:.0833333rem;overflow:hidden}.update-box-header[data-v-098c91e9]{padding:.3rem 0}.update-box-main[data-v-098c91e9]{padding:.4rem 0}.update-box-btn[data-v-098c91e9]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-top:.013333rem solid hsla(0,0%,74%,.5)}.update-box-btn button[data-v-098c91e9]{width:50%;padding:.2rem 0;background-color:#fff;border:none;border-radius:0;color:#179cf3;border-right:.013333rem solid hsla(0,0%,74%,.5)}.update-box-btn button[data-v-098c91e9]:last-child{border:none}.waitting-time[data-v-098c91e9]{padding-bottom:.4rem}",""])},554:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){this.pageLoading(0)},data:function(){return{newest:!1,updateShow:!1,updateInfo:"",firmware:"--",updatefirmware:"",saveconfig:!0,errorshow:!1,errorinfo:"",updateConfirmShow:!1,disabled:!1,retestingShow:!1,waittingShow:!1,waittingInfo:"",restartShow:!1,waittingTime:"",resultTip:!1,result:"",resultInfo:""}},methods:{pageLoading:function(t){this.retestingShow=!0;var e={data:{},requestUrl:"get_update_version",method:"get"};this.disabled=!0;var i=this;this.$ajax({data:e}).then(function(e){if(0==e.data.errorcode&&t>=2){i.disabled=!1,i.retestingShow=!1;var a=e.data.data.localversionNo,o=e.data.data.updateversionNo;i.firmware=a,1==e.data.data.effectivity?(i.updatefirmware=o,i.newest=!1,i.updateShow=!0):(i.newest=!0,i.updateShow=!1)}else t>=2?(i.disabled=!1,i.retestingShow=!1,i.errorshow=!0,i.errorinfo="获取固件信息失败，请检查网络后重试",i.resultShow(0,"获取固件信息失败，请检查网络后重试")):(t++,setTimeout(function(){i.pageLoading(t)},500))}).catch(function(t){i.disabled=!1,i.retestingShow=!1,i.resultShow(0,"获取固件信息失败，请检查网络后重试")})},beforeRouteLeave:function(t,e,i){this.destroyed()},back:function(){this.$router.push("home")},configchoose:function(){this.saveconfig=!this.saveconfig},retesting:function(){this.pageLoading(0),this.updateShow=!1},update:function(){this.updateConfirmShow=!0},updateCancel:function(){this.updateConfirmShow=!1},updateConfirm:function(){var t=1==this.saveconfig?1:0,e={data:{keepconfig:t},requestUrl:"upgrade",method:"put"};this.updateConfirmShow=!0;var i=this;this.$ajax({data:e}).then(function(t){0==t.data.errorcode&&(i.updateConfirmShow=!1,i.waittingShow=!0,i.updaterate())}).catch(function(t){console.log(t)})},updaterate:function(){var t={data:{},requestUrl:"get_update_rate",method:"get"},e=this;this.$ajax({data:t}).then(function(t){if(0==t.data.errorcode){if(e.waittingInfo=t.data.data.status,"IMG CHECK FAILED"==t.data.data.status)return e.waittingShow=!1,void e.resultShow(0,"固件校验失败,请重试");setTimeout(function(){e.updaterate()},1e3)}}).catch(function(t){e.waittingInfo="正在升级,请注意wifi连接状态",e.waittingTime=121,e.restartShow=!0,window.localStorage.removeItem("qtec_router_token");for(var i=121,a=0;a<=121;a++)setTimeout(function(){i>1?(i--,e.waittingTime=i):e.$router.push("/")},1e3*a)})}}}},555:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"firmware-update-container container"},[i("header",{staticClass:"header"},[i("span",{staticClass:"back-icon",on:{click:function(e){t.back()}}}),t._v(" "),i("span",{staticClass:"theme"},[t._v("固件在线升级")])]),t._v(" "),i("div",{staticClass:"update"},[i("div",{staticClass:"update-main"},[i("span",[t._v("当前固件版本："+t._s(t.firmware))]),t._v(" "),t.newest&&!t.retestingShow?i("div",[i("span",[t._v("当前固件已为最新版本！")])]):t._e(),t._v(" "),t.retestingShow?i("div",{staticClass:"getting-update"},[i("span",[t._v("正在获取最新固件信息，请稍候...")])]):t._e(),t._v(" "),t.updateShow?i("div",{staticClass:"update-info"},[i("span",[t._v("可升级的固件版本:"+t._s(t.updatefirmware))]),t._v(" "),i("span",[t._v(t._s(t.updateInfo))]),t._v(" "),i("div",{staticClass:"save-choose"},[i("span",[t._v("是否保存配置：")]),t._v(" "),i("div",{staticClass:"config-check"},[i("input",{attrs:{type:"checkbox"},domProps:{checked:t.saveconfig},on:{click:function(e){t.configchoose()}}}),t._v(" "),t.saveconfig?i("span",[t._v("已选择保存配置")]):i("span",[t._v("已选择不保存配置")])])])]):t._e(),t._v(" "),t.errorshow?i("div",[i("span",[t._v(t._s(t.errorinfo))])]):t._e()]),t._v(" "),i("div",{staticClass:"get-update"},[i("button",{attrs:{type:"button",disabled:t.disabled},on:{click:function(e){t.retesting()}}},[i("span",{directives:[{name:"show",rawName:"v-show",value:!t.retestingShow,expression:"!retestingShow"}]},[t._v("重新检测")]),t.retestingShow?i("b",{staticClass:"disabled hide"}):t._e()]),t._v(" "),t.updateShow?i("button",{attrs:{type:"button"},on:{click:function(e){t.update()}}},[t._v("更新固件")]):t._e()]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.updateConfirmShow,expression:"updateConfirmShow"}],staticClass:"loading"},[i("div",{staticClass:"update-box"},[i("span",{staticClass:"update-box-header"},[t._v("提示")]),t._v(" "),i("span",{staticClass:"update-box-main"},[t._v("确认更新固件"),t.saveconfig?i("span",[t._v("保存配置")]):i("span",[t._v("不保存配置")]),t._v("？")]),t._v(" "),i("div",{staticClass:"update-box-btn"},[i("button",{attrs:{type:"button",disabled:!t.updateConfirmShow},on:{click:function(e){t.updateCancel()}}},[t._v("取消")]),t._v(" "),i("button",{attrs:{type:"button",disabled:!t.updateConfirmShow},on:{click:function(e){t.updateConfirm()}}},[t._v("确认")])])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.waittingShow,expression:"waittingShow"}],staticClass:"loading"},[i("div",{staticClass:"tip-box"},[i("span",{staticClass:"tip-header"},[t._v("提示")]),t._v(" "),t._m(0,!1,!1),t._v(" "),i("span",{staticClass:"tip-main"},[t._v(t._s(t.waittingInfo))]),t._v(" "),t.restartShow?i("span",{staticClass:"waitting-time"},[t._v("预计剩余"+t._s(t.waittingTime)+"S完成")]):t._e()])]),t._v(" "),i("resultshow",{attrs:{resultTip:t.resultTip,result:t.result,resultInfo:t.resultInfo}})],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loading-gif"},[a("img",{attrs:{src:i(80),alt:"loading..."}})])}]}}});