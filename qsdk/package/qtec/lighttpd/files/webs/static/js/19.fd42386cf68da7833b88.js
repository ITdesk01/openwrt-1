webpackJsonp([19],{470:function(t,e,a){function s(t){a(540)}var i=a(53)(a(542),a(543),s,"data-v-38d40d84",null);t.exports=i.exports},540:function(t,e,a){var s=a(541);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(462)("07f6ba8f",s,!0)},541:function(t,e,a){e=t.exports=a(461)(!1),e.push([t.i,".connect-way-modify-container[data-v-38d40d84]{max-width:16rem;margin:0 auto;padding-top:1.173333rem}.dhcp[data-v-38d40d84],.pppoe[data-v-38d40d84],.static[data-v-38d40d84]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.dhcp>span[data-v-38d40d84],.dhcp[data-v-38d40d84],.pppoe[data-v-38d40d84],.static[data-v-38d40d84]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.dhcp-switch[data-v-38d40d84],.pppoe-switch[data-v-38d40d84],.static-switch[data-v-38d40d84]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:1.3333rem;font-size:.4rem;border-bottom:.013333rem solid hsla(0,0%,74%,.5)}form[data-v-38d40d84]{width:100%;font-size:.4rem}.form-item[data-v-38d40d84]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:inherit;height:1.33333rem}.dhcp-switch+span[data-v-38d40d84],.form-item[data-v-38d40d84]{border-bottom:.013333rem solid hsla(0,0%,74%,.5);text-align:left}.dhcp-switch+span[data-v-38d40d84]{font-size:.4rem;padding:.387rem .1rem}.tip[data-v-38d40d84]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.5);z-index:111;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}",""])},542:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){this.pageLoading()},data:function(){return{savedisabled:!0,loadingInfo:!0,account:"",pass:"",showPassword:!1,pppoetip:"",pppoeSettingChecked:!1,dhcpSettingChecked:!1,staticSettingChecked:!1,ip:"",mask:"",gateway:"",preferreddns:"",sparedns:"",tip:"",tipShow:!1,resultTip:!1,result:"",resultInfo:""}},methods:{pageLoading:function(){var t={requestUrl:"handle_wan_cfg",method:"get"},e=this;this.$ajax({data:t}).then(function(t){if(e.savedisabled=!1,0==t.data.errorcode){switch(e.connectinfoShow(t),t.data.data.connectiontype){case"pppoe":e.pppoeSettingChecked=!0;break;case"dhcp":e.dhcpSettingChecked=!0;break;case"static":e.staticSettingChecked=!0}e.loadingInfo=!1}else e.error_msg(t.data)}).catch(function(t){console.log(t),e.resultShow(0,"网络异常，请检查")})},connectinfoShow:function(t){var e=t.data.data.username;e&&(this.account=e);var a=t.data.data.password;if(a){var s=new Base;this.pass=s.decode(a)}var i=t.data.data.ipaddr;i&&(this.ip=i);var n=t.data.data.netmask;n&&(this.mask=n);var o=t.data.data.gateway;o&&(this.gateway=o);var d=t.data.data.dns;d&&d.length>1?-1!=d.indexOf(" ")?(this.preferreddns=d.split(" ")[0],this.sparedns=d.split(" ")[1]):this.preferreddns=d:this.preferreddns=this.sparedns=""},beforeRouteLeave:function(t,e,a){this.destroyed()},back:function(){this.$router.push("home")},noneSpace:function(t,e){var a=t.replace(/\s/g,"");switch(e){case 0:this.account=a;break;case 1:this.ip=a;break;case 2:this.mask=a;break;case 3:this.gateway=a;break;case 4:this.preferreddns=a;break;case 5:this.sparedns=a}},save:function(){if(1==this.pppoeSettingChecked){var t=this.account,e=this.pass,a=this.pppoe_check(t,e);if(-1==a)return;this.savedisabled=!0,this.resultShow(-1,-1);var s=this,i={requestUrl:"getkeycfg",method:"get"};this.$ajax({data:i}).then(function(t){if(0==t.data.errorcode){var a=new JSEncrypt,i=t.data.data.rand_key;a.setPublicKey(i);var n=a.encrypt(e);s.pwd(n)}else s.savedisabled=!1,s.error_msg(t.data)}).catch(function(t){s.savedisabled=!1,s.resultShow(0,"网络异常，请检查")})}if(1==this.dhcpSettingChecked){this.savedisabled=!0;var i={data:{"connectiontype ":"dhcp"},requestUrl:"handle_wan_cfg",method:"put"};this.resultShow(-1,-1);var s=this;this.$ajax({data:i}).then(function(t){s.savedisabled=!1,0==t.data.errorcode?s.resultShow(1,"修改成功"):s.error_msg(t.data)}).catch(function(t){s.savedisabled=!1,s.resultShow(0,"网络异常，请检查")})}if(1==this.staticSettingChecked){var n=this.ip,o=this.mask,d=this.gateway,c=this.preferreddns,r=this.sparedns,p={ip:n,mask:o,gateway:d,preferreddns:c,sparedns:r},a=this.static_check(p);if(-1==a)return;this.savedisabled=!0;var i={data:{connectiontype:"static",ipaddr:this.ip,netmask:this.mask,gateway:this.gateway,dns:a},requestUrl:"handle_wan_cfg",method:"put"};this.resultShow(-1,-1);var s=this;this.$ajax({data:i}).then(function(t){s.savedisabled=!1,0==t.data.errorcode?(s.resultShow(1,"修改成功"),s.pageLoading()):s.error_msg(t.data)}).catch(function(t){s.savedisabled=!1,s.resultShow(0,"网络异常，请检查")})}},pwd:function(t){var e={data:{connectiontype:"pppoe",username:this.account,password:t},requestUrl:"handle_wan_cfg",method:"put"},a=this;this.$ajax({data:e}).then(function(t){a.savedisabled=!1,0==t.data.errorcode?a.resultShow(1,"修改成功"):"-93"==t.data.errorcode?a.resultShow(0,"用户名或密码错误"):a.resultShow(0,t.data.msg)}).catch(function(t){a.savedisabled=!1,a.resultShow(0,"网络异常，请检查")})},settingShow:function(t){"pppoe"==t&&(this.pppoeSettingChecked=!this.pppoeSettingChecked,this.dhcpSettingChecked=this.staticSettingChecked=!1),"dhcp"==t&&(this.dhcpSettingChecked=!this.dhcpSettingChecked,this.pppoeSettingChecked=this.staticSettingChecked=!1),"static"==t&&(this.pppoeSettingChecked=this.dhcpSettingChecked=!1,this.staticSettingChecked=!this.staticSettingChecked)},changePassWordType:function(){this.showPassword=!this.showPassword}}}},543:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"connect-way-modify-container container"},[a("header",{staticClass:"header"},[a("span",{staticClass:"back-icon",on:{click:function(e){t.back()}}}),t._v(" "),a("span",{staticClass:"theme"},[t._v("上网方式")]),t._v(" "),a("div",{staticClass:"save"},[a("button",{attrs:{type:"button",disabled:t.savedisabled},on:{click:function(e){t.save()}}},[t._v("保存")])])]),t._v(" "),t.loadingInfo?a("loadingInfo",{staticClass:"loadinginfo"}):t._e(),t._v(" "),t.loadingInfo?t._e():a("div",{staticClass:"connect-ways-choose"},[a("div",{staticClass:"pppoe"},[a("div",{staticClass:"pppoe-switch"},[a("span",[t._v("宽带拨号(PPPOE)")]),t._v(" "),a("input",{staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{checked:t.pppoeSettingChecked}}),t._v(" "),a("span",{staticClass:"switch-icon",on:{click:function(e){t.settingShow("pppoe")}}})]),t._v(" "),a("transition",{attrs:{name:"fade"}},[a("form",{directives:[{name:"show",rawName:"v-show",value:t.pppoeSettingChecked,expression:"pppoeSettingChecked"}]},[a("div",{staticClass:"form-item"},[a("label",[t._v("帐号")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"account",attrs:{type:"text",maxlength:"20",placeholder:"请输入4-20位帐号",autocomplete:"off"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-item"},[a("label",[t._v("密码")]),t._v(" "),a("div",{staticClass:"pwd-transform"},[t.showPassword?a("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],staticClass:"pass",attrs:{type:"text",maxlength:"20",placeholder:"请输入4-20位密码",autocomplete:"off"},domProps:{value:t.pass},on:{input:function(e){e.target.composing||(t.pass=e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],staticClass:"pass",attrs:{type:"password",maxlength:"20",placeholder:"请输入4-20位密码",autocomplete:"off"},domProps:{value:t.pass},on:{input:function(e){e.target.composing||(t.pass=e.target.value)}}}),t._v(" "),a("div",{staticClass:"button_switch",class:{change_to_text:t.showPassword},on:{click:function(e){t.changePassWordType()}}},[t.showPassword?a("div",{staticClass:"showPassword"}):a("div",{staticClass:"hidePassword"})])])])])])],1),t._v(" "),a("div",{staticClass:"dhcp"},[a("div",{staticClass:"dhcp-switch"},[a("span",[t._v("动态IP(DHCP)")]),t._v(" "),a("input",{staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{checked:t.dhcpSettingChecked}}),t._v(" "),a("span",{staticClass:"switch-icon",on:{click:function(e){t.settingShow("dhcp")}}})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.dhcpSettingChecked,expression:"dhcpSettingChecked"}]},[t._v("动态IP(DHCP)上网方式，无需设置参数，直接点击保存即可")])]),t._v(" "),a("div",{staticClass:"static"},[a("div",{staticClass:"static-switch"},[a("span",[t._v("静态IP")]),t._v(" "),a("input",{staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{checked:t.staticSettingChecked}}),t._v(" "),a("span",{staticClass:"switch-icon",on:{click:function(e){t.settingShow("static")}}})]),t._v(" "),a("form",{directives:[{name:"show",rawName:"v-show",value:t.staticSettingChecked,expression:"staticSettingChecked"}]},[a("div",{staticClass:"form-item form3"},[a("label",[t._v("IP地址")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ip,expression:"ip"}],attrs:{minlength:"7",maxlength:"15",placeholder:"请输入IP地址",autocomplete:"off"},domProps:{value:t.ip},on:{input:function(e){e.target.composing||(t.ip=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-item form3"},[a("label",[t._v("子网掩码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mask,expression:"mask"}],attrs:{minlength:"7",maxlength:"15",placeholder:"请输入子网掩码",autocomplete:"off"},domProps:{value:t.mask},on:{input:function(e){e.target.composing||(t.mask=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-item form3"},[a("label",[t._v("网关")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.gateway,expression:"gateway"}],attrs:{minlength:"7",maxlength:"15",placeholder:"请输入默认网关",autocomplete:"off"},domProps:{value:t.gateway},on:{input:function(e){e.target.composing||(t.gateway=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-item form3"},[a("label",[t._v("首选DNS")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.preferreddns,expression:"preferreddns"}],attrs:{minlength:"7",maxlength:"15",placeholder:"请输入首选DNS",autocomplete:"off"},domProps:{value:t.preferreddns},on:{input:function(e){e.target.composing||(t.preferreddns=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-item form3"},[a("label",[t._v("备用DNS(可选)")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sparedns,expression:"sparedns"}],attrs:{minlength:"7",maxlength:"15",placeholder:"请输入备用DNS",autocomplete:"off"},domProps:{value:t.sparedns},on:{input:function(e){e.target.composing||(t.sparedns=e.target.value)}}})])])])]),t._v(" "),t.tipShow?a("div",{staticClass:"tip"},[a("div",{staticClass:"tip-box"},[a("span",{staticClass:"tip-header"},[t._v("提示")]),t._v(" "),a("span",{staticClass:"tip-main"},[t._v(t._s(t.tip))])])]):t._e(),t._v(" "),a("resultshow",{attrs:{resultTip:t.resultTip,result:t.result,resultInfo:t.resultInfo}})],1)},staticRenderFns:[]}}});